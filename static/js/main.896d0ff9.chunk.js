(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[1],{13:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"j",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return O}));var r=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.board},c=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.boardDisabled},a=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.cardPair},o=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.gameType},i=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.soundsVolume},u=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.musicVolume},s=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.boardSize},l=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.imgURL},d=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.difficulty},f=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.time},b=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.score},j=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.highScore},O=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.games}},14:function(e,t,n){"use strict";n.d(t,"e",(function(){return y})),n.d(t,"i",(function(){return I})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return R})),n.d(t,"h",(function(){return A})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return C})),n.d(t,"o",(function(){return L})),n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return U})),n.d(t,"f",(function(){return V})),n.d(t,"p",(function(){return B})),n.d(t,"g",(function(){return G})),n.d(t,"d",(function(){return F})),n.d(t,"l",(function(){return Y}));var r=n(12),c=n.n(r),a=n(23),o=n(17),i=n(6),u=n(49),s=n.p+"static/media/wrong-audio.70fff5c7.wav",l=n.p+"static/media/correct-audio.62721562.wav",d=n.p+"static/media/open-sound.15057a5c.wav",f={board:[],boardDisabled:!1,cardPair:[],gameType:"wait",musicVolume:1,soundsVolume:1,boardSize:"normal",games:[],imgURL:null,difficulty:"normal",time:0,score:0,highScore:0},b=new Audio(d),j=new Audio(s),O=new Audio(l),m=(new Date).toLocaleDateString("en-US").split("/"),g=Object(u.a)(m,3),p=g[0],v=g[1],S=g[2],y=function(e){return{type:"OPEN_CARD",number:e}},h=function(e){return{type:"SET_BOARD",board:e}},x=function(e,t){return{type:"SET_ANSWERS",data:{cardPair:e,type:t}}},E=function(e){return{type:"DISABLE_BOARD",boolean:e}},_=function(e){return{type:"SET_GAME_TYPE",gameType:e}},I=function(e){return{type:"SET_CARD_PAIR",card:e}},T=function(e){return{type:"SET_CARD_PAIRS",cards:e}},w=function(e){return{type:"SET_MUSIC_VOLUME",volume:e}},R=function(e){return{type:"SET_SOUNDS_VOLUME",volume:e}},A=function(e){return{type:"SET_BOARD_SIZE",boardSize:e}},N=function(e){return{type:"SET_CARD_STYLE",imgURL:e}},C=function(e){return{type:"SET_DIFFICULTY",difficulty:e}},L=function(e){return{type:"SET_TIMER",time:e}},D=function(e){return{type:"SET_SCORE",score:e}},P=function(e){return{type:"SET_HIGH_SCORE",score:e}},k=function(e){return{type:"SET_GAMES",game:e}},z=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,o,i,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.game,b.volume=o.soundsVolume,j.volume=o.soundsVolume,O.volume=o.soundsVolume,i=function(){j.play(),n(E(!0)),n(x(e,"wrong")),setTimeout((function(){n(x(e,"closed")),n(E(!1))}),1e3)},u=function(){O.play(),n(x(e,"correct")),n(D(o.score+2)),o.score>=o.highScore&&(n(P(o.score+2)),localStorage.setItem("highScore",JSON.stringify(o.score+2)))},2===e.length&&(e[0].content===e[1].content?u():i(),n({type:"CLEAR_CARD_PAIR"})),!o.board.every((function(e){return"correct"===e.type}))){t.next=11;break}return n(_("win")),t.next=11,n(J("win"));case 11:localStorage.setItem("board",JSON.stringify(o.board.map((function(e){return"wrong"===e.type?{content:e.content,type:"closed"}:e})))),localStorage.setItem("gameType",JSON.stringify(o.gameType)),localStorage.setItem("cardPair",JSON.stringify(e)),localStorage.setItem("score",JSON.stringify(o.score));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),i=a.game,n(_("wait")),n(T([])),n(D(0)),n(h([].concat(Object(o.a)(e),Object(o.a)(e)).sort((function(){return.5-Math.random()})))),n(L("easy"===i.difficulty?60:"normal"===i.difficulty?50:30)),localStorage.removeItem("cardPair");case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(M(e)),localStorage.removeItem("board"),localStorage.removeItem("gameType");case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.play(),n(M(e));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),i=a.game,n(k({key:Math.random(),date:"".concat(p,"/").concat(v,"/").concat(S),boardSize:i.boardSize,difficulty:i.difficulty,score:i.score,winOrLose:e,time:("easy"===i.difficulty?60:"normal"===i.difficulty?50:30)-i.time})),localStorage.setItem("games",JSON.stringify([{key:Math.random(),date:"".concat(p,"/").concat(v,"/").concat(S),boardSize:i.boardSize,difficulty:i.difficulty,score:i.score,winOrLose:e,time:("easy"===i.difficulty?60:"normal"===i.difficulty?50:30)-i.time}].concat(Object(o.a)(i.games))));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),i=a.game,n(h([].concat(Object(o.a)(e),Object(o.a)(e)).sort((function(){return.5-Math.random()})))),n(_("playing")),n(D(0)),n(T([])),n(L("easy"===i.difficulty?60:"normal"===i.difficulty?50:30)),localStorage.removeItem("cardPair");case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},G=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(N("")),localStorage.removeItem("imgURL");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_("lose")),e.next=3,t(J("lose"));case 3:localStorage.setItem("gameType",JSON.stringify("lose"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,a,i,u,s,l,d,f,b,j,O,m,g,p,v,S,y,x,E,I,k,z,M;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=function(){return localStorage.getItem("cardPair")},a=function(){return localStorage.getItem("gameType")},i=function(){return localStorage.getItem("musicVolume")},u=function(){return localStorage.getItem("soundsVolume")},s=function(){return localStorage.getItem("boardSize")},l=function(){return localStorage.getItem("imgURL")},d=function(){return localStorage.getItem("difficulty")},f=function(){return localStorage.getItem("timer")},b=function(){return localStorage.getItem("score")},j=function(){return localStorage.getItem("highScore")},O=function(){return localStorage.getItem("games")},m=function(){return localStorage.getItem("board")}(),g=a(),p=r(),v=i(),S=u(),y=s(),x=l(),E=d(),I=f(),k=b(),z=j(),M=O(),p&&n(T(JSON.parse(p))),g&&n(_(JSON.parse(g))),v&&n(w(JSON.parse(v))),S&&n(R(JSON.parse(S))),x&&n(N(x)),E&&n(C(E)),y&&n(A(y)),I&&n(L(+I)),k&&n(D(+k)),z&&n(P(+z)),M&&n({type:"SET_ALL_GAMES",games:JSON.parse(M)}),n(h(m?JSON.parse(m):[].concat(Object(o.a)(e),Object(o.a)(e)).sort((function(){return.5-Math.random()}))));case 36:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARD":return Object(i.a)(Object(i.a)({},e),{},{board:Object(o.a)(t.board)});case"OPEN_CARD":return b.play(),Object(i.a)(Object(i.a)({},e),{},{board:e.board.map((function(e,n){return n===t.number?Object(i.a)(Object(i.a)({},e),{},{type:"open"}):e}))});case"SET_ANSWERS":var n=t.data,r=n.cardPair,c=n.type,a=function(e,t){return e.content===r[0].content||e.content===r[1].content?Object(i.a)(Object(i.a)({},e),{},{type:t}):e};return Object(i.a)(Object(i.a)({},e),{},{board:e.board.map((function(e){return"open"===e.type||"wrong"===e.type?a(e,c):e}))});case"SET_GAME_TYPE":return Object(i.a)(Object(i.a)({},e),{},{gameType:t.gameType});case"SET_BOARD_SIZE":return Object(i.a)(Object(i.a)({},e),{},{boardSize:t.boardSize});case"DISABLE_BOARD":return Object(i.a)(Object(i.a)({},e),{},{boardDisabled:t.boolean});case"SET_SOUNDS_VOLUME":return Object(i.a)(Object(i.a)({},e),{},{soundsVolume:t.volume});case"SET_MUSIC_VOLUME":return Object(i.a)(Object(i.a)({},e),{},{musicVolume:t.volume});case"SET_CARD_PAIR":return Object(i.a)(Object(i.a)({},e),{},{cardPair:[].concat(Object(o.a)(e.cardPair),[t.card])});case"SET_CARD_STYLE":return Object(i.a)(Object(i.a)({},e),{},{imgURL:t.imgURL});case"SET_CARD_PAIRS":return Object(i.a)(Object(i.a)({},e),{},{cardPair:Object(o.a)(t.cards)});case"SET_DIFFICULTY":return Object(i.a)(Object(i.a)({},e),{},{difficulty:t.difficulty});case"SET_TIMER":return Object(i.a)(Object(i.a)({},e),{},{time:t.time});case"SET_SCORE":return Object(i.a)(Object(i.a)({},e),{},{score:t.score});case"SET_HIGH_SCORE":return Object(i.a)(Object(i.a)({},e),{},{highScore:t.score});case"SET_GAMES":return Object(i.a)(Object(i.a)({},e),{},{games:[t.game].concat(Object(o.a)(e.games))});case"SET_ALL_GAMES":return Object(i.a)(Object(i.a)({},e),{},{games:t.games});case"CLEAR_CARD_PAIR":return Object(i.a)(Object(i.a)({},e),{},{cardPair:[]});default:return e}}},1690:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(32),o=n.n(a),i=(n(92),n(17)),u=n(49),s=n(9),l=n(14),d=n(13),f=n(10),b=(n(99),n(4)),j=function(e){var t=e.card,n=e.index,r=Object(s.b)(),c=Object(s.c)(d.i);return Object(b.jsx)("div",{className:"card ".concat(t.type),onClick:function(){return e=n,void("closed"===t.type&&(r(Object(l.e)(e)),r(Object(l.i)(t))));var e},children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"front",children:[" ","closed"!==t.type&&"".concat(t.content)," "]}),Object(b.jsxs)("div",{className:"back",children:[" ",c&&Object(b.jsx)("img",{src:"".concat(c),alt:"card",id:"output"})," "]})]})})},O=n(1691),m=n(27),g=n(33),p=n(1696),v=function(){var e=Object(s.c)(d.m),t=Object(s.b)();return Object(r.useEffect)((function(){var n=setInterval((function(){e>0?(localStorage.setItem("timer","".concat(e-1)),t(Object(l.o)(e-1))):t(Object(l.d)())}),1e3);return function(){clearInterval(n)}}),[e]),Object(b.jsxs)(O.a,{size:"large",className:"timer",danger:e<10,children:[Object(b.jsx)(p.a,{})," ",e]})},S=function(e){var t=e.boardItems,n=Object(s.c)(d.c),r=Object(s.b)(),c=Object(s.c)(d.f),a=Object(s.c)(d.a),o=Object(s.c)(d.b),i=Object(s.c)(d.d),u=Object(s.c)(d.k),f=Object(s.c)(d.h);return Object(b.jsx)("div",{children:"playing"===c?Object(b.jsxs)("div",{className:"appContent",children:[Object(b.jsxs)("div",{className:"score",children:[Object(b.jsxs)(O.a,{size:"large",children:["Current score: ",u]}),Object(b.jsxs)(O.a,{size:"large",children:["High score: ",f]}),Object(b.jsx)(v,{})]}),Object(b.jsx)("div",{className:"board ".concat(i," ").concat(n&&"disabled"),children:null===a||void 0===a?void 0:a.map((function(e,t){return Object(b.jsx)(j,{cardPair:o,index:t,card:e},t)}))}),Object(b.jsx)(O.a,{onClick:function(){r(Object(l.f)(t))},className:"reset-button",type:"primary",size:"large",children:Object(b.jsx)(m.ReloadOutlined,{})}),Object(b.jsx)(O.a,{onClick:function(){r(Object(l.b)(t))},className:"reset-button",type:"primary",size:"large",children:Object(b.jsx)(m.ArrowLeftOutlined,{})})]}):Object(b.jsx)("div",{className:"menu ".concat(c," ").concat(i),children:Object(b.jsxs)("div",{className:"menu-content",children:[Object(b.jsxs)("div",{className:"text",children:[Object(b.jsx)("div",{className:"end-text",children:"win"===c?"You won !":"lose"===c?"You lose :(":"wait"===c&&"Memory game"}),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"small-text",children:["High score: ",f]})})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)(O.a,{type:"primary",size:"large",onClick:function(){r(Object(l.p)(t))},children:["wait"!==c?"Play again":"Play"," ",Object(b.jsx)(m.CaretRightOutlined,{})]}),Object(b.jsx)(O.a,{type:"primary",size:"large",onClick:function(){r(Object(l.b)(t))},children:Object(b.jsx)(g.b,{to:"/settings",children:Object(b.jsx)(m.SettingOutlined,{})})}),Object(b.jsx)(O.a,{type:"primary",size:"large",onClick:function(){r(Object(l.b)(t))},children:Object(b.jsx)(g.b,{to:"/stats",children:Object(b.jsx)(m.BarChartOutlined,{})})})]})]})})})},y=n(84),h=n.p+"static/media/music.601c07ae.mp3",x=c.a.lazy((function(){return Promise.all([n.e(0),n.e(7),n.e(5)]).then(n.bind(null,1830))})),E=c.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(6)]).then(n.bind(null,1831))}));var _=function(){var e=Object(s.b)(),t=Object(s.c)(d.f),n=Object(s.c)(d.a),c=Object(s.c)(d.b),a=Object(s.c)(d.j),o=Object(s.c)(d.d),j=Object(y.a)(h,{volume:Number(localStorage.getItem("musicVolume")||a),interrupt:!0}),O=Object(u.a)(j,2),g=O[0],p=O[1].stop;Object(r.useEffect)((function(){"wait"===t?g():p()}),[g,t]),Object(r.useEffect)((function(){e(Object(l.l)(v))}),[]),Object(r.useEffect)((function(){e(Object(l.a)(Object(i.a)(c)))}),[n]);var v=Array("small"===o?4:"normal"===o?8:"big"===o?10:18).fill(0).map((function(e,t){return{content:"".concat(t),type:"closed"}}));return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{className:"game",children:Object(b.jsxs)(f.c,{children:[Object(b.jsx)(f.a,{path:"/settings",render:function(){return Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)("div",{children:"Loading"}),children:Object(b.jsx)(x,{})})}}),Object(b.jsx)(f.a,{path:"/stats",render:function(){return Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)("div",{children:"Loading"}),children:Object(b.jsx)(E,{})})}}),Object(b.jsx)(f.a,{path:"/",render:function(){return Object(b.jsx)(S,{boardItems:v})}}),Object(b.jsx)(f.a,{path:"*",render:function(){return Object(b.jsx)("h1",{children:"404"})}})]})}),Object(b.jsxs)("footer",{children:[Object(b.jsx)("a",{href:"https://rs.school/react/",rel:"noreferrer",target:"_blank",children:Object(b.jsx)("img",{src:"https://rs.school/images/rs_school_js.svg",alt:"course-logo"})}),Object(b.jsx)("b",{children:"2021"}),Object(b.jsx)("a",{href:"https://github.com/ReaZzy",rel:"noreferrer",target:"_blank",children:Object(b.jsx)(m.GithubOutlined,{className:"githubSvg"})})]})]})},I=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,1832)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},T=n(30),w=n(85),R=Object(T.c)({game:l.c}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,N=Object(T.e)(R,A(Object(T.a)(w.a)));o.a.render(Object(b.jsx)(g.a,{children:Object(b.jsx)(s.a,{store:N,children:Object(b.jsx)(_,{})})}),document.getElementById("root")),I()},92:function(e,t,n){}},[[1690,2,3]]]);
//# sourceMappingURL=main.896d0ff9.chunk.js.map