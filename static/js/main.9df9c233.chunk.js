(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[1],{113:function(e,t,n){},13:function(e,t,n){"use strict";n.d(t,"e",(function(){return _})),n.d(t,"i",(function(){return R})),n.d(t,"m",(function(){return N})),n.d(t,"n",(function(){return C})),n.d(t,"h",(function(){return L})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return P})),n.d(t,"o",(function(){return z})),n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return G})),n.d(t,"f",(function(){return F})),n.d(t,"p",(function(){return H})),n.d(t,"g",(function(){return Z})),n.d(t,"d",(function(){return W})),n.d(t,"l",(function(){return X}));var r=n(11),c=n.n(r),a=n(22),o=n(20),i=n(6),u=n(49),s=n.p+"static/media/wrong-audio.70fff5c7.wav",l=n.p+"static/media/correct-audio.62721562.wav",d=n.p+"static/media/open-sound.15057a5c.wav",f=n.p+"static/media/win.aa3ddaa5.wav",b=n.p+"static/media/lose.02ef6b82.wav",j={board:[],boardDisabled:!1,cardPair:[],gameType:"wait",musicVolume:1,soundsVolume:1,boardSize:"normal",games:[],imgURL:null,difficulty:"normal",time:0,score:0,highScore:0},m=new Audio(d),O=new Audio(s),p=new Audio(l),g=new Audio(f),v=new Audio(b),S=(new Date).toLocaleDateString("en-US").split("/"),y=Object(u.a)(S,3),h=y[0],x=y[1],E=y[2],_=function(e){return{type:"OPEN_CARD",number:e}},w=function(e){return{type:"SET_BOARD",board:e}},I=function(e,t){return{type:"SET_ANSWERS",data:{cardPair:e,type:t}}},T=function(e){return{type:"DISABLE_BOARD",boolean:e}},A=function(e){return{type:"SET_GAME_TYPE",gameType:e}},R=function(e){return{type:"SET_CARD_PAIR",card:e}},k=function(e){return{type:"SET_CARD_PAIRS",cards:e}},N=function(e){return{type:"SET_MUSIC_VOLUME",volume:e}},C=function(e){return{type:"SET_SOUNDS_VOLUME",volume:e}},L=function(e){return{type:"SET_BOARD_SIZE",boardSize:e}},D=function(e){return{type:"SET_CARD_STYLE",imgURL:e}},P=function(e){return{type:"SET_DIFFICULTY",difficulty:e}},z=function(e){return{type:"SET_TIMER",time:e}},V=function(e){return{type:"SET_SCORE",score:e}},M=function(e){return{type:"SET_HIGH_SCORE",score:e}},U=function(e){return{type:"SET_GAMES",game:e}},J=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var o,i,u,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),i=o.game,m.volume=i.soundsVolume,O.volume=i.soundsVolume,p.volume=i.soundsVolume,g.volume=i.soundsVolume,v.volume=i.soundsVolume,u=function(){O.play(),n(T(!0)),n(I(e,"wrong")),setTimeout((function(){n(I(e,"closed")),n(T(!1))}),1e3)},s=function(){var t=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.play();case 2:n(I(e,"correct")),n(V(i.score+2)),i.score>=i.highScore&&(n(M(i.score+2)),localStorage.setItem("highScore",JSON.stringify(i.score+2)));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),2===e.length&&(e[0].content===e[1].content?s():u(),n({type:"CLEAR_CARD_PAIR"})),!i.board.every((function(e){return"correct"===e.type}))){t.next=15;break}return n(A("win")),t.next=13,n(Y("win"));case 13:return t.next=15,g.play();case 15:localStorage.setItem("board",JSON.stringify(i.board.map((function(e){return"wrong"===e.type?{content:e.content,type:"closed"}:e})))),localStorage.setItem("cardPair",JSON.stringify(e)),localStorage.setItem("score",JSON.stringify(i.score));case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),i=a.game,n(k([])),n(V(0)),n(w([].concat(Object(o.a)(e),Object(o.a)(e)).sort((function(){return.5-Math.random()})))),n(z("easy"===i.difficulty?60:"normal"===i.difficulty?50:30)),localStorage.removeItem("cardPair");case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(B(e)),n(A("wait")),localStorage.removeItem("board");case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.play(),n(B(e));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),i=a.game,n(U({key:Math.random(),date:"".concat(h,"/").concat(x,"/").concat(E),boardSize:i.boardSize,difficulty:i.difficulty,score:i.score,winOrLose:e,time:("easy"===i.difficulty?60:"normal"===i.difficulty?50:30)-i.time})),localStorage.setItem("games",JSON.stringify([{key:Math.random(),date:"".concat(h,"/").concat(x,"/").concat(E),boardSize:i.boardSize,difficulty:i.difficulty,score:i.score,winOrLose:e,time:("easy"===i.difficulty?60:"normal"===i.difficulty?50:30)-i.time}].concat(Object(o.a)(i.games))));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},H=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(A("playing")),n(B(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Z=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(D("")),t(P("normal")),t(L("normal")),t(N(1)),t(C(1)),localStorage.removeItem("imgURL"),localStorage.removeItem("musicVolume"),localStorage.removeItem("soundsVolume");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},W=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A("lose")),e.next=3,t(Y("lose"));case 3:return e.next=5,v.play();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,a,i,u,s,l,d,f,b,j,m,O,p,g,v,S,y,h,x,E,_,I,T;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=function(){return localStorage.getItem("cardPair")},a=function(){return localStorage.getItem("gameType")},i=function(){return localStorage.getItem("musicVolume")},u=function(){return localStorage.getItem("soundsVolume")},s=function(){return localStorage.getItem("boardSize")},l=function(){return localStorage.getItem("imgURL")},d=function(){return localStorage.getItem("difficulty")},f=function(){return localStorage.getItem("timer")},b=function(){return localStorage.getItem("score")},j=function(){return localStorage.getItem("highScore")},m=function(){return localStorage.getItem("games")},O=function(){return localStorage.getItem("board")}(),p=a(),g=r(),v=i(),S=u(),y=s(),h=l(),x=d(),E=f(),_=b(),I=j(),T=m(),g&&n(k(JSON.parse(g))),p&&n(A(JSON.parse(p))),v&&n(N(JSON.parse(v))),S&&n(C(JSON.parse(S))),h&&n(D(h)),x&&n(P(x)),y&&n(L(y)),E&&n(z(+E)),_&&n(V(+_)),I&&n(M(+I)),T&&n({type:"SET_ALL_GAMES",games:JSON.parse(T)}),n(w(O?JSON.parse(O):[].concat(Object(o.a)(e),Object(o.a)(e)).sort((function(){return.5-Math.random()}))));case 36:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARD":return Object(i.a)(Object(i.a)({},e),{},{board:Object(o.a)(t.board)});case"OPEN_CARD":return m.play(),Object(i.a)(Object(i.a)({},e),{},{board:e.board.map((function(e,n){return n===t.number?Object(i.a)(Object(i.a)({},e),{},{type:"open"}):e}))});case"SET_ANSWERS":var n=t.data,r=n.cardPair,c=n.type,a=function(e,t){return e.content===r[0].content||e.content===r[1].content?Object(i.a)(Object(i.a)({},e),{},{type:t}):e};return Object(i.a)(Object(i.a)({},e),{},{board:e.board.map((function(e){return"open"===e.type||"wrong"===e.type?a(e,c):e}))});case"SET_GAME_TYPE":return localStorage.setItem("gameType",JSON.stringify(t.gameType)),Object(i.a)(Object(i.a)({},e),{},{gameType:t.gameType});case"SET_BOARD_SIZE":return localStorage.setItem("boardSize","".concat(t.boardSize)),Object(i.a)(Object(i.a)({},e),{},{boardSize:t.boardSize});case"DISABLE_BOARD":return Object(i.a)(Object(i.a)({},e),{},{boardDisabled:t.boolean});case"SET_SOUNDS_VOLUME":return Object(i.a)(Object(i.a)({},e),{},{soundsVolume:t.volume});case"SET_MUSIC_VOLUME":return Object(i.a)(Object(i.a)({},e),{},{musicVolume:t.volume});case"SET_CARD_PAIR":return Object(i.a)(Object(i.a)({},e),{},{cardPair:[].concat(Object(o.a)(e.cardPair),[t.card])});case"SET_CARD_STYLE":return Object(i.a)(Object(i.a)({},e),{},{imgURL:t.imgURL});case"SET_CARD_PAIRS":return Object(i.a)(Object(i.a)({},e),{},{cardPair:Object(o.a)(t.cards)});case"SET_DIFFICULTY":return localStorage.setItem("difficulty","".concat(t.difficulty)),Object(i.a)(Object(i.a)({},e),{},{difficulty:t.difficulty});case"SET_TIMER":return Object(i.a)(Object(i.a)({},e),{},{time:t.time});case"SET_SCORE":return Object(i.a)(Object(i.a)({},e),{},{score:t.score});case"SET_HIGH_SCORE":return Object(i.a)(Object(i.a)({},e),{},{highScore:t.score});case"SET_GAMES":return Object(i.a)(Object(i.a)({},e),{},{games:[t.game].concat(Object(o.a)(e.games))});case"SET_ALL_GAMES":return Object(i.a)(Object(i.a)({},e),{},{games:t.games});case"CLEAR_CARD_PAIR":return Object(i.a)(Object(i.a)({},e),{},{cardPair:[]});default:return e}}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"j",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return m}));var r=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.board},c=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.boardDisabled},a=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.cardPair},o=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.gameType},i=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.soundsVolume},u=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.musicVolume},s=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.boardSize},l=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.imgURL},d=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.difficulty},f=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.time},b=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.score},j=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.highScore},m=function(e){var t;return null===e||void 0===e||null===(t=e.game)||void 0===t?void 0:t.games}},1694:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(32),o=n.n(a),i=(n(113),n(114),n(20)),u=n(49),s=n(9),l=n(13),d=n(14),f=n(10),b=n(4),j=function(e){var t=e.card,n=e.index,r=Object(s.b)(),c=Object(s.c)(d.i);return Object(b.jsx)("div",{className:"noselect card ".concat(t.type),onClick:function(){return e=n,void("closed"===t.type&&(r(Object(l.e)(e)),r(Object(l.i)(t))));var e},children:Object(b.jsxs)("div",{className:"content",children:[Object(b.jsxs)("div",{className:"front",children:[" ","closed"!==t.type&&"".concat(t.content)," "]}),Object(b.jsxs)("div",{className:"back noselect",children:[" ",c&&Object(b.jsx)("img",{src:"".concat(c),alt:"card",id:"output"})," "]})]})})},m=n(1696),O=n(27),p=n(33),g=n(1700),v=function(){var e=Object(s.c)(d.m),t=Object(s.b)();return Object(r.useEffect)((function(){var n=setInterval((function(){e>0?(localStorage.setItem("timer","".concat(e-1)),t(Object(l.o)(e-1))):t(Object(l.d)())}),1e3);return function(){clearInterval(n)}}),[e]),Object(b.jsxs)(m.a,{size:"large",className:"timer",danger:e<10,children:[Object(b.jsx)(g.a,{})," ",e]})},S=function(e){var t=e.boardItems,n=Object(s.c)(d.c),r=Object(s.b)(),c=Object(s.c)(d.f),a=Object(s.c)(d.a),o=Object(s.c)(d.b),i=Object(s.c)(d.d),u=Object(s.c)(d.k),f=Object(s.c)(d.h);return Object(b.jsx)("div",{children:"playing"===c?Object(b.jsxs)("div",{className:"appContent",children:[Object(b.jsxs)("div",{className:"score",children:[Object(b.jsxs)(m.a,{size:"large",children:["Current score: ",u]}),Object(b.jsxs)(m.a,{size:"large",children:["High score: ",f]}),Object(b.jsx)(v,{})]}),Object(b.jsx)("div",{className:"board ".concat(i," ").concat(n&&"disabled"),children:null===a||void 0===a?void 0:a.map((function(e,t){return Object(b.jsx)(j,{cardPair:o,index:t,card:e},t)}))}),Object(b.jsx)(m.a,{onClick:function(){r(Object(l.f)(t))},className:"reset-button",type:"primary",size:"large",children:Object(b.jsx)(O.ReloadOutlined,{})}),Object(b.jsx)(m.a,{onClick:function(){r(Object(l.b)(t))},className:"reset-button",type:"primary",size:"large",children:Object(b.jsx)(O.ArrowLeftOutlined,{})})]}):Object(b.jsx)("div",{className:"menu ".concat(c," ").concat(i),children:Object(b.jsxs)("div",{className:"menu-content",children:[Object(b.jsxs)("div",{className:"text",children:[Object(b.jsx)("div",{className:"end-text",children:"win"===c?"You won !":"lose"===c?"You lose :(":"wait"===c&&"Memory game"}),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"small-text",children:["High score: ",f]})})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)(m.a,{type:"primary",size:"large",onClick:function(){r(Object(l.p)(t))},children:["wait"!==c?"Play again":"Play"," ",Object(b.jsx)(O.CaretRightOutlined,{})]}),Object(b.jsx)(m.a,{type:"primary",size:"large",onClick:function(){r(Object(l.b)(t))},children:Object(b.jsx)(p.b,{to:"/settings",children:Object(b.jsx)(O.SettingOutlined,{})})}),Object(b.jsx)(m.a,{type:"primary",size:"large",onClick:function(){r(Object(l.b)(t))},children:Object(b.jsx)(p.b,{to:"/stats",children:Object(b.jsx)(O.BarChartOutlined,{})})})]})]})})})},y=n(87),h=n.p+"static/media/music.601c07ae.mp3",x=n(88),E=c.a.lazy((function(){return Promise.all([n.e(0),n.e(5),n.e(6)]).then(n.bind(null,1924))})),_=c.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(7)]).then(n.bind(null,1925))}));var w=function(){var e=Object(s.b)(),t=Object(s.c)(d.f),n=Object(s.c)(d.a),c=Object(s.c)(d.b),a=Object(s.c)(d.j),o=Object(s.c)(d.d),j=Object(f.f)(),m=Object(y.a)(h,{volume:Number(localStorage.getItem("musicVolume")||a),interrupt:!0}),p=Object(u.a)(m,2),g=p[0],v=p[1].stop;Object(r.useEffect)((function(){"wait"===t?g():v()}),[g,t]),Object(r.useEffect)((function(){e(Object(l.l)(w))}),[]),Object(r.useEffect)((function(){e(Object(l.a)(Object(i.a)(c)))}),[n]),Object(r.useEffect)((function(){var t=function(t){e(Object(l.b)(w)),j.push(t)};Object(x.a)("ctrl+x,ctrl+z,ctrl+c,ctrl+enter,ctrl+v",{keyup:!0},(function(n,r){switch(r.key){case"ctrl+x":"keyup"===n.type&&t("settings");break;case"ctrl+z":"keyup"===n.type&&t("");break;case"ctrl+c":"keyup"===n.type&&t("stats");break;case"ctrl+enter":"keyup"===n.type&&(e(Object(l.p)(w)),j.push("/"));break;case"ctrl+v":"keyup"===n.type&&e(Object(l.f)(w))}}))}),[o]);var w=Array("small"===o?4:"normal"===o?8:"big"===o?10:18).fill(0).map((function(e,t){return{content:"".concat(t),type:"closed"}}));return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{className:"game",children:Object(b.jsxs)(f.c,{children:[Object(b.jsx)(f.a,{path:"/settings",render:function(){return Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)("div",{children:"Loading"}),children:Object(b.jsx)(E,{})})}}),Object(b.jsx)(f.a,{path:"/stats",render:function(){return Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)("div",{children:"Loading"}),children:Object(b.jsx)(_,{})})}}),Object(b.jsx)(f.a,{path:"/",render:function(){return Object(b.jsx)(S,{boardItems:w})}}),Object(b.jsx)(f.a,{path:"*",render:function(){return Object(b.jsx)("h1",{children:"404"})}})]})}),Object(b.jsxs)("footer",{children:[Object(b.jsx)("a",{href:"https://rs.school/react/",rel:"noreferrer",target:"_blank",children:Object(b.jsx)("img",{src:"https://rs.school/images/rs_school_js.svg",alt:"course-logo"})}),Object(b.jsx)("b",{children:"2021"}),Object(b.jsx)("a",{href:"https://github.com/ReaZzy",rel:"noreferrer",target:"_blank",children:Object(b.jsx)(O.GithubOutlined,{className:"githubSvg"})})]})]})},I=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,1926)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},T=n(30),A=n(89),R=Object(T.c)({game:l.c}),k=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,N=Object(T.e)(R,k(Object(T.a)(A.a)));o.a.render(Object(b.jsx)(p.a,{children:Object(b.jsx)(s.a,{store:N,children:Object(b.jsx)(w,{})})}),document.getElementById("root")),I()}},[[1694,2,3]]]);
//# sourceMappingURL=main.9df9c233.chunk.js.map